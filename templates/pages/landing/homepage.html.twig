{% extends 'pages/layout.html.twig' %}

{% block meta %}
    {{ include('@SuluWebsite/Extension/seo.html.twig', {
        seo: extension.seo|default([]),
        content: content|default([]),
        localizations: localizations|default([]),
        shadowBaseLocale: shadowBaseLocale|default(),
    }) }}
{% endblock %}

{% set catalog_path = sulu_page_navigation_root_flat('main',1)|find(item => item.title == 'Catalog' or item.title == 'Catalogue') %}


{% block page_content %}
    <section>
        {% include 'includes/sections/hero_section.html.twig' with { content: content } %}
    </section>
    <section class="container min-h-80 xl:py-24 lg:py-12 md:py-6 px-3 lg:space-y-9">
        <header class="flex justify-center items-end">
            <div class="space-y-3 w-full">
                <h3 class="text-4xl font-semibold text-dark">{{ content.product_section_title }}</h3>
                <p class="text-md font-light lg:w-1/3">{{ content.product_section_subtitle }}</p>
            </div>
            <a href="{{ sulu_content_path(catalog_path.url) }}" class="block xl:w-1/5">
                <div class="flex justify-end gap-x-1.5 text-[15px] text-black/75">
                    <span>See available products</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-move-right-icon lucide-move-right"><path d="M18 8L22 12L18 16"/><path d="M2 12H22"/></svg>
                </div>
            </a>
        </header>
        <div {{ stimulus_controller('product_list_preview', {
            previewList: content.background_pictures|map(p => p.url),
        }) }}>
            <div class="text-center">Loading list ...</div>
        </div>
    </section>
    <section class="container min-h-80 xl:py-12 lg:py-8 md:py-6 px-3 lg:space-y-9">
        <header class="space-y-3">
            <h3 class="text-center text-4xl font-semibold text-dark">{{ content.product_section_title }}</h3>
            <p class="text-center text-md font-light xl:w-2/5 mx-auto">{{ content.product_section_subtitle }}</p>
        </header>
        <div {{ stimulus_controller('product_list_preview', {
            previewList: content.background_pictures|map(p => p.url),
        }) }}>
            <div class="text-center">Loading list ...</div>
        </div>

        {% set catalog_path = sulu_page_navigation_root_flat('main',1)|find(item => item.title == 'Catalog' or item.title == 'Catalogue') %}
        <a href="{{ sulu_content_path(catalog_path.url) }}" class="block w-fit mx-auto">
            <div class="flex w-fit gap-x-2.5">
                <span>See all available products</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-move-right-icon lucide-move-right"><path d="M18 8L22 12L18 16"/><path d="M2 12H22"/></svg>
            </div>
        </a>
    </section>
{% endblock %}
